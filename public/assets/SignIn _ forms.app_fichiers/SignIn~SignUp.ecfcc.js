(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{ajPk:function(e,r,i){"use strict";var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"social-box-wrapper"},[e.isLoading?r("div",{staticClass:"loading-backdrop"},[e.isLoading?r("i-preloader",{staticClass:"auth-spinner"}):e._e()],1):e._e(),e._v(" "),e._l(e.externalLoginProviders,(function(i){return e.supportedMobileAppLogin(i)?r("a",{key:i.providerName,class:"social-box "+i.providerName,attrs:{title:e.isSignUpPage?e.$t("auth.signUpWith",{provider:i.providerName}):e.$t("auth.signWith",{provider:i.providerName})},on:{click:function(r){return e.authenticate(i.providerName)}}},[r("i-icon",{attrs:{brands:"",icon:i.providerName}}),e._v(" "),r("span",[e._v(e._s(e.isSignUpPage?e.$t("auth.signUpWith",{provider:i.providerName}):e.$t("auth.signWith",{provider:i.providerName})))])],1):e._e()})),e._v(" "),r("GoogleOneTap")],2)};t._withStripped=!0;var a,o=i("yXPU"),n=i.n(o),s=(i("4mDm"),i("5s+n"),i("3bBZ"),i("rB9j"),i("0d3v")),p=i("ttAG"),d=i("luLf"),u=i("/BYU"),l=i("sjWk"),c={name:"ExternalLogins",components:{GoogleOneTap:()=>Promise.all([i.e(54),i.e(1),i.e(270),i.e(45)]).then(i.bind(null,"xg4h"))},props:{setParentServerSideError:Function,isSignUpPage:Boolean},data:function(){return{externalLoginProviders:s.a.getExternalLoginProviders(),isLoading:!1}},methods:{authenticate:(a=n()((function*(e){if(!l.a.externalLogin(e)){"apple"===e&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(this.$auth.options.providers.apple.authorizationEndpoint="/auth/applenativeredirect"),this.isLoading=!0;var r=!1;this.$auth.authenticate(e).then(i=>{s.a.createReturnObject(i).success&&(u.a.onAfterSuccessLogin(this,p.default,e),r=!0),this.isLoading=r}).catch(i=>{if(this.isLoading=r,i.response){var t=i.response.data.fieldErrors[0];304===t.error.errorCode?this.setParentServerSideError(!0,this.$t("auth.alreadyExists",{field:t.value}),t.value):301===t.error.errorCode?this.setParentServerSideError(!0,Object(d.a)("auth."+t.error.errorCode)):this.$router.push({name:"ExternalLoginConfirmation",params:{provider:e,referrerApiResponse:i.response.data},query:{redirect:this.$route.query.redirect}})}else i.message?this.setParentServerSideError(!0,i.message):this.setParentServerSideError(!0,i)})}})),function(e){return a.apply(this,arguments)}),supportedMobileAppLogin:function(e){var r=this.$root.mobileApp;return!r||("androidbasic"===r&&/HUAWEI/i.test(navigator.userAgent)&&(r="androidbasic-huawei"),e.supportedMobileAppsForNativeLogin.indexOf(r)>-1)}}},h=i("KHd+"),v=Object(h.a)(c,t,[],!1,null,null,null);r.a=v.exports}}]);